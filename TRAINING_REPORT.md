# 메이플스토리 아이템 시세 예측 모델 훈련 리포트

**생성 일시**: 2025-11-03 20:04:42

---

## 📊 실행 요약

이 리포트는 MySQL 데이터베이스의 모든 거래 데이터를 사용하여 훈련된 아이템 시세 예측 모델의 성능을 정리합니다.

### 모델 정보
- **모델 타입**: Random Forest Regressor
- **데이터셋**: 전체 데이터베이스 데이터 (제한 없음)
- **데이터 분할**: Train 70%, Validation 10%, Test 20%

---

## 📈 모델 성능 지표

### Train Set (훈련 데이터)

| 지표 | 값 | 설명 |
|------|-----|------|
| **RMSE** | 562,728,160.11 | 5.63억 |
| **MAE** | 70,347,748.76 | 7034.77만 |
| **R² Score** | 0.9981 | 99.81% 설명력 |
| **MAPE** | 0.59% | 평균 절대 백분율 오차 |

### Validation Set (검증 데이터)

| 지표 | 값 | 설명 |
|------|-----|------|
| **RMSE** | 1,760,476,143.58 | 17.60억 |
| **MAE** | 409,632,775.87 | 4.10억 |
| **R² Score** | 0.9911 | 99.11% 설명력 |
| **MAPE** | 1.83% | 평균 절대 백분율 오차 |

### Test Set (테스트 데이터)

| 지표 | 값 | 설명 |
|------|-----|------|
| **RMSE** | 5,826,241,733.95 | 58.26억 |
| **MAE** | 582,506,508.44 | 5.83억 |
| **R² Score** | 0.8785 | 87.85% 설명력 |
| **MAPE** | 1.80% | 평균 절대 백분율 오차 |

---

## 🔍 성능 분석

### 1. 모델 일반화 성능

- **Train vs Test R² 차이**: 0.1196
  - 차이가 작을수록 과적합이 적습니다
  - 차이가 크면 과적합 가능성이 있습니다

- **Train vs Test RMSE 비율**: 10.35x
  - 테스트 세트의 RMSE가 훈련 세트보다 10.35배 높습니다

### 2. 예측 정확도

- **평균 절대 오차 (MAE)**: 5.83억
  - 평균적으로 예측 가격과 실제 가격의 차이가 5.83억 정도입니다

- **평균 절대 백분율 오차 (MAPE)**: 1.80%
  - 예측 오차가 평균적으로 1.80% 수준입니다

### 3. 모델 설명력

- **R² Score (Test)**: 0.8785 (87.85%)
  - 모델이 가격 변동의 약 87.85%를 설명합니다
  - 우수한 수준입니다

---

## 🎯 주요 특징 중요도 (Top 20)

모델이 가격 예측에 사용한 주요 특징들의 중요도 순위입니다:

| 순위 | 특징명 | 중요도 | 비율 |
|------|--------|--------|------|
| 1 | `price_per_unit` | 0.978955 | 97.90% |
| 2 | `detail_PAD_max` | 0.003190 | 0.32% |
| 3 | `detail_MAD_sum` | 0.002791 | 0.28% |
| 4 | `detail_scroll_STR_max` | 0.002714 | 0.27% |
| 5 | `detail_MAD_max` | 0.001602 | 0.16% |
| 6 | `detail_scroll_STR_sum` | 0.001144 | 0.11% |
| 7 | `name` | 0.000850 | 0.08% |
| 8 | `payload_item_id` | 0.000849 | 0.08% |
| 9 | `detail_PAD_sum` | 0.000804 | 0.08% |
| 10 | `item_id` | 0.000742 | 0.07% |
| 11 | `trade_day_of_week` | 0.000732 | 0.07% |
| 12 | `detail_scroll_count` | 0.000688 | 0.07% |
| 13 | `day` | 0.000627 | 0.06% |
| 14 | `detail_PDD_max` | 0.000558 | 0.06% |
| 15 | `day_of_week` | 0.000447 | 0.04% |
| 16 | `detail_MHP_max` | 0.000403 | 0.04% |
| 17 | `payload_scroll_count` | 0.000363 | 0.04% |
| 18 | `detail_MHP_sum` | 0.000359 | 0.04% |
| 19 | `detail_scroll_DEX_sum` | 0.000342 | 0.03% |
| 20 | `detail_percent_StatR_sum` | 0.000274 | 0.03% |


---

## 💡 주요 특징 분석

### 가장 중요한 특징 Top 10

1. **price_per_unit**
   - 중요도: 0.978955
   - 특징 설명: 단위당 가격 (타겟과 유사하여 제외됨)

2. **detail_PAD_max**
   - 중요도: 0.003190
   - 특징 설명: PAD 관련 능력치

3. **detail_MAD_sum**
   - 중요도: 0.002791
   - 특징 설명: MAD 관련 능력치

4. **detail_scroll_STR_max**
   - 중요도: 0.002714
   - 특징 설명: STR 스크롤 증가량

5. **detail_MAD_max**
   - 중요도: 0.001602
   - 특징 설명: MAD 관련 능력치

6. **detail_scroll_STR_sum**
   - 중요도: 0.001144
   - 특징 설명: STR 스크롤 증가량

7. **name**
   - 중요도: 0.000850
   - 특징 설명: 아이템 이름

8. **payload_item_id**
   - 중요도: 0.000849
   - 특징 설명: 아이템 ID (payload에서)

9. **detail_PAD_sum**
   - 중요도: 0.000804
   - 특징 설명: PAD 관련 능력치

10. **item_id**
   - 중요도: 0.000742
   - 특징 설명: 아이템 ID

---

## 📝 결론 및 권장사항

### 모델 성능 요약

1. **전반적인 성능**: 우수
   - R² Score가 0.8785로 가격 변동의 상당 부분을 잘 설명합니다

2. **예측 정확도**: 높음
   - MAPE가 1.80%로 매우 수준입니다

3. **과적합 여부**: 과적합 가능성 있음
   - Train R²와 Test R²의 차이가 0.1196입니다

### 개선 권장사항

- 모델 성능이 우수합니다. 현재 설정을 유지하거나 추가 데이터로 재훈련을 고려하세요
- 다양한 모델 타입을 비교하여 최적 모델 선택 고려


---

## 📁 저장된 파일

모델 및 전처리 파이프라인은 다음 위치에 저장되었습니다:

- `models/price_prediction_model.joblib`: 훈련된 모델
- `models/scaler.joblib`: 특징 스케일러
- `models/label_encoders.joblib`: 범주형 변수 인코더
- `models/feature_importance.json`: 특징 중요도 (JSON)
- `models/metrics.json`: 성능 지표 (JSON)

---

**보고서 생성 완료**: 2025-11-03 20:04:42
